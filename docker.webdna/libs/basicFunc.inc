[!](cleandate function) Converts a date in the format "YYYY-MM-DD" to "MM/DD/YYYY" and returns the result. Returns an empty string if the input date is empty. [/!]
[Function name=cleandate]
	[Showif [thedate]!]
		[RETURN][GetChars start=6&end=7][thedate][/getchars]/[/RETURN]
		[RETURN][GetChars start=9&end=10/][thedate][/getchars]/[/RETURN]
		[RETURN][GetChars start=1&end=4][thedate][/getchars][/RETURN]
	[/Showif]
	[RETURN][/RETURN]
[/Function]
[!](cleantime function) Extracts the time in 24-hour format "HH:MM:SS" from a string containing a date and time in the format "YYYY-MM-DD HH:MM:SS" and returns the result. Returns an empty string if the input time is empty. [/!]
[Function name=cleantime]
	[Showif [thetime]!]
		[RETURN][GetChars start=12&end=16][thetime][/getchars][/RETURN]
	[/Showif]
[/Function]
[!](cleanJustTime function) Extracts the time in 24-hour format "HH:MM" from a string and returns the result. Returns an empty string if the input time is empty. [/!]
[Function name=cleanJustTime]
	[Showif [thetime]!]
		[RETURN][GetChars start=1&end=5][thetime][/RETURN]
	[/Showif]
[/Function]
[Function name=formatTime]
	[RETURN][Format Seconds_To_Time %I:%M %p][math show=t]{[thetime]}[/MATH][/format][/RETURN]
[/Function]
[!](isNull function) Determines if a given variable is empty (null) or not and returns "T" if it is null and "F" if it is not null. [/!]
[Function name=isNull]
	[IF ("[URL][INTERPRET][[varName]][/INTERPRET][/URL]"="") | ("[URL][INTERPRET][[varName]][/INTERPRET][/URL]"="[URL][[varName]][/URL]")]
		[THEN][RETURN]T[/RETURN][/THEN]
		[ELSE][RETURN]F[/RETURN][/ELSE]
	[/IF]
[/Function]
[Function name=cleanVar]
	[IF "[isNull varName=[varName]]"="T"]
		[THEN][RETURN][/RETURN][/THEN]
		[ELSE][RETURN][ConvertWords db=^/Jarvis/databases/sqlconversions.db][INTERPRET][[varName]][/INTERPRET][/convertwords][/RETURN][/ELSE]
	[/IF]
[/Function]
[Function name=cleanJSONVar]
	[IF "[isNull varName=[varName]]"="T"]
		[THEN][RETURN][/RETURN][/THEN]
		[ELSE][RETURN][UNURL][ConvertWords db=^/Jarvis/databases/jsonconversions.db][URL][INTERPRET][[varName]][/INTERPRET][/URL][/convertwords][/UNURL][/RETURN][/ELSE]
	[/IF]
[/Function]
[Function name=OCB_ParseMPFormVars]
	[Hideif [OCB_ParseMPFormFlag]=1]
		[Formvariables]
			[Showif [URL][name][/URL]^[URL]name="[/URL]]
				[Hideif [URL][name][/URL]^[URL]filename="[/URL]]
					[RETURN][text scope=global][Middle StartAfter=name="&endbefore="][name][/Middle]=[value][/text][/RETURN]
				[/Hideif]
			[/Showif]
		[/Formvariables]
		[RETURN][text scope=global]OCB_ParseMPFormFlag=1[/text][/RETURN]
	[/Hideif]
[/Function]
[Function name=OCB_GetDate]
	[RETURN][Getchars start=1&end=10][datetime][/Getchars][/RETURN]
[/Function]
[Function name=OCB_GetTime]
	[RETURN][Getchars start=12&end=23][datetime][/Getchars][/RETURN]
[/Function]
[Function name=g_Day]
	[RETURN][GetChars start=4&end=5][date][/getchars][/RETURN]
[/Function]
[Function name=g_Month]
	[RETURN][GetChars start=1&end=2][date][/getchars][/RETURN]
[/Function]
[Function name=g_Year]
	[Showif [len]=full]
		[RETURN][GetChars start=7&end=10][date][/getchars][/RETURN]
	[/Showif]
	[Hideif [len]=full]
		[RETURN][GetChars start=9&end=10][date][/getchars][/RETURN]
	[/Hideif]
[/Function]
[!]This function converts a date in the format MM/DD/YYYY to seconds by subtracting 1 from the date and multiplying by 86400 (the number of seconds in a day). The input "datetime" is first cleaned using the "CleanDate" function to ensure it is in the correct format.[/!]
[Function name=OCB_DateToSeconds]
	[RETURN][MATH]((([MATH]{[CleanDate thedate=[OCB_GetDate datetime=[datetime]]]}[/MATH])-1)*86400)[/MATH][/RETURN]
[/Function]
[Function name=OCB_DateTimeToSecs]
	[RETURN][MATH][OCB_DateToSeconds datetime=[datetime]]+[MATH]{[OCB_GetTime datetime=[datetime]]}[/MATH][/MATH][/RETURN]
[/Function]
[Function name=OCB_DNA_DateToSeconds]
	[RETURN][MATH]((([MATH]{[OCB_GetDate datetime=[datetime]]}[/MATH])-1)*86400)[/MATH][/RETURN]
[/Function]
[Function name=OCB_DNA_DateTimeToSecs]
	[RETURN][MATH][OCB_DNA_DateToSeconds datetime=[datetime]]+[MATH]{[OCB_GetTime datetime=[datetime]]}[/MATH][/MATH][/RETURN]
[/Function]
[Function name=OCB_EPOCH_DateTimeToSecs]
	[RETURN][MATH]([OCB_DateToSeconds datetime=[datetime]]+[MATH]{[OCB_GetTime datetime=[datetime]]}[/MATH])-[OCB_DateToSeconds datetime=01/01/1970 00:00.000][/MATH][/RETURN]
[/Function]
[Function name=OCB_DNA_EPOCH_DateTimeToSecs]
	[RETURN][MATH]([OCB_DNA_DateToSeconds datetime=[datetime]]+[MATH]{[OCB_GetTime datetime=[datetime]]}[/MATH])-[OCB_DNA_DateToSeconds datetime=01/01/1970 00:00.000][/MATH][/RETURN]
[/Function]
[Function name=G_CleanHTML]
	[RETURN][UNURL][GREP search=(style|id|class|width|height|color|face|size|src)="([^"]*)"|<img([^<>]*)>|<script([^<>]*)>[^<>]*<\/script>|<script([^<>]*)>|<style([^<>]*)>[^<>]*<\/style>|<style([^<>]*)>&replace=&IgnoreCase=T][thehtml][/GREP][/UNURL][/RETURN]
[/Function]
[Function name=g_GetSchoolYear]
	[IF ("[g_Month]">"06")]
		[THEN][RETURN][g_Year len=[len]]-[MATH][g_Year len=[len]]+1[/MATH][/RETURN][/THEN]
		[ELSE][RETURN][MATH][g_Year len=[len]]-1[/MATH]-[g_Year len=[len]][/RETURN][/ELSE]
	[/IF]
[/Function]
[Function name=g_GetFallSchoolYear]
	[Showif [isNull varName=adjust]=T][text]adjust=0[/text][/Showif]
	[IF ("[g_Month]">"06")]
		[THEN][RETURN][Showif [full]=startdate]07/01/20[/Showif][Showif [full]=enddate]12/31/20[/Showif][MATH][g_Year len=[len]]+[adjust][/MATH][/RETURN][/THEN]
		[ELSE][RETURN][Showif [full]=startdate]07/01/20[/Showif][Showif [full]=enddate]12/31/20[/Showif][MATH]([g_Year len=[len]]-1)+[adjust][/MATH][/RETURN][/ELSE]
	[/IF]
[/Function]
[Function name=g_GetSpringSchoolYear]
	[Showif [isNull varName=adjust]=T][text]adjust=0[/text][/Showif]
	[IF ("[g_Month]">"06")]
		[THEN][RETURN][Showif [full]=startdate]01/01/20[/Showif][Showif [full]=enddate]06/30/20[/Showif][MATH]([g_Year len=[len]]+1)+[adjust][/MATH][/RETURN][/THEN]
		[ELSE][RETURN][Showif [full]=startdate]01/01/20[/Showif][Showif [full]=enddate]06/30/20[/Showif][MATH][g_Year len=[len]]+[adjust][/MATH][/RETURN][/ELSE]
	[/IF]
[/Function]