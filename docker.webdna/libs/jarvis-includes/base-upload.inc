[!]================================================================[/!]
[!] This include File has (1) passed variable, inc_uploadFile      [/!]
[!] The inc_uploadFile is the path name to an include that 	       [/!]
[!] performs program specific things to the file. IE Where to 	   [/!]
[!] write the file, which DB if any to update, ect...			   [/!]
[!]================================================================[/!]  

[!]================================================================[/!]
[!] Processing Upload Form Vars: because the image upload uses	   [/!]
[!] enctype="multipart/form-data" in the <form> tag, we have to	   [/!]
[!]	deal with the form variables differently. This loop through	   [/!]
[!]	the form variables sets text vars with the form variable names [/!]
[!]	that are passed on submition.								   [/!]
[!]================================================================[/!]   
[Formvariables]
	[!]===========================================================[/!]
	[!] Correct ordinary incoming variables; pull out name/values [/!]
	[!]===========================================================[/!]
	[showif [url][name][/url]^[url]name="[/url]]
		[hideif [url][name][/url]^[url]filename="[/url]]
			[text scope=GLOBAL][Middle StartAfter=name="&endbefore="][name][/Middle]=[value][/Text]
		[/hideif]
	[/showif]
	
	[!]================================================================[/!]
	[!] Pull out values of file upload - both the filename ([name]),   [/!]
	[!] and the binary data itself ([value]). Some OSes send the       [/!]
	[!]	complete pathname to the file; some send just the filename.    [/!]
	[!]	So we have to peel away the leading directories to end up with [/!]
	[!]	just the filename. The last word in the listwords will be the  [/!]
	[!]	filename.													   [/!]
	[!]================================================================[/!]	
	[showif [url][name][/url]^[url]filename="[/url]]
		[Text scope=GLOBAL]fullfilename=[GREP search=[URL]&[/URL]&replace=and][Middle StartAfter=filename="&endbefore="][name][/Middle][/GREP][/Text]
		[listwords words=[fullfilename]&delimiters=:/\]
			[text]origfilename=[db_noIllegals varName=word][/text]
		[/listwords]
		[Hideif [isNull varName=origfilename]=T]
			[!] Custom Passed include file Path. This is unique to the program [/!]
			[include file=[URL][inc_uploadFile][/URL]]
		[/Hideif]
	[/showif]
[/Formvariables]